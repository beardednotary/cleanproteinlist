<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Protein Powder Safety Tools | Clean Protein List</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .tools-hero { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 60px 20px; text-align: center; }
        .tools-container { max-width: 900px; margin: -40px auto 60px; padding: 0 20px; }
        .tool-card { background: white; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1); padding: 40px; margin-bottom: 40px; }
        .brand-select { width: 100%; padding: 15px; border: 2px solid #ddd; border-radius: 8px; margin-bottom: 20px; }
        .safety-card { padding: 30px; border-radius: 12px; margin-top: 20px; }
        .safety-card.safe { background: #f0fdf4; border: 2px solid #2ecc71; }
        .safety-card.danger { background: #fff5f5; border: 2px solid #e74c3c; }
    </style>
</head>
<body>
    <header>
        <div class="container"><a href="index.html" class="logo">Clean Protein List</a></div>
    </header>

    <div class="tools-hero">
        <h1>üî¨ Protein Powder Safety Tools</h1>
        <p>2026 Laboratory Data & Personalized Calculators</p>
    </div>

    <main class="tools-container">

        <div class="tool-card">
            <h2>üîé 2026 Brand Safety Checker</h2>
            <select id="brand-select" class="brand-select" onchange="checkBrand()">
                <option value="">-- Select your brand --</option>
                <optgroup label="üèÜ 2026 WINNERS">
                    <option value="cse-chocolate">Clean Simple Eats</option>
                    <option value="equate-whey">Equate (Walmart)</option>
                </optgroup>
                <optgroup label="üèÖ LEGACY WINNERS">
                    <option value="muscletech-mass">MuscleTech (#1 Safest)</option>
                    <option value="dymatize-iso">Dymatize ISO-100</option>
                    <option value="optimum-gold">Optimum Nutrition</option>
                </optgroup>
                <optgroup label="üö´ FAILURES">
                    <option value="naked-vegan">Naked Vegan Mass Gainer</option>
                    <option value="huel-black">Huel Black Edition</option>
                </optgroup>
            </select>
            <div id="result"></div>
        </div>

        <div class="tool-card">
            <h2>üìä Daily Protein Calculator</h2>
            <form id="protein-form">
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <input type="number" id="weight" placeholder="Weight" required style="padding:15px; border:1px solid #ddd; border-radius:8px;">
                    <select id="weight-unit" style="padding:15px; border:1px solid #ddd; border-radius:8px;">
                        <option value="lbs">lbs</option>
                        <option value="kg">kg</option>
                    </select>
                </div>
                <select id="goal" style="width:100%; padding:15px; border:1px solid #ddd; border-radius:8px; margin-bottom:20px;">
                    <option value="lose">Lose Weight</option>
                    <option value="maintain">Maintain</option>
                    <option value="gain">Build Muscle</option>
                </select>
                <button type="submit" style="width:100%; padding:18px; background:#667eea; color:white; border:none; border-radius:8px; font-weight:700; cursor:pointer;">Calculate Needs ‚Üí</button>
            </form>
            <div id="protein-results" style="display:none; margin-top:30px;"></div>
        </div>

        <div class="tool-card">
            <h2>üí∞ RTD Convenience Tax Calculator</h2>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                <select id="current-rtd-price" style="padding:15px; border:1px solid #ddd; border-radius:8px;">
                    <option value="2.50">Premier/Fairlife ($2.50)</option>
                    <option value="3.50">OWYN Pro Elite ($3.50)</option>
                </select>
                <input type="number" id="shakes-count" value="1" style="padding:15px; border:1px solid #ddd; border-radius:8px;">
            </div>
            <button id="run-cost-calc" style="width:100%; padding:18px; background:#2ecc71; color:white; border:none; border-radius:8px; font-weight:700; cursor:pointer;">Calculate Savings ‚Üí</button>
            <div id="cost-results" style="display:none; margin-top:20px; background:#e8f5e9; padding:20px; border-radius:8px; text-align:center;">
                <h4>Annual Savings: <span id="annual-savings-display" style="font-size:32px; color:#2ecc71;">$0</span></h4>
            </div>
        </div>

        <div class="tool-card">
            <h2>‚ö†Ô∏è Lead Exposure Calculator</h2>
            <form id="exposure-form">
                <select id="exposure-brand" class="brand-select" required>
                    <option value="naked-vegan">Naked Vegan Mass Gainer</option>
                    <option value="huel-black">Huel Black Edition</option>
                    <option value="cse-chocolate">Clean Simple Eats</option>
                </select>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <input type="number" id="servings-day" value="1" step="0.5" style="padding:15px; border:1px solid #ddd; border-radius:8px;">
                    <input type="number" id="duration-value" value="6" style="padding:15px; border:1px solid #ddd; border-radius:8px;">
                </div>
                <button type="submit" style="width:100%; padding:18px; background:#e74c3c; color:white; border:none; border-radius:8px; font-weight:700; cursor:pointer;">Calculate Exposure ‚Üí</button>
            </form>
            <div id="exposure-results" style="display:none; margin-top:30px;"></div>
        </div>

    </main>

    <script>
    const brandData = {
        'cse-chocolate': { name: 'Clean Simple Eats', safety: 'safe', leadValue: 0.21, rank: '1 (2026)', article: 'blog/consumer-reports-new-protein-powder-tests-january-2026.html' },
        'equate-whey': { name: 'Equate Rich Chocolate', safety: 'safe', leadValue: 0.27, rank: '2 (2026)', article: 'blog/consumer-reports-new-protein-powder-tests-january-2026.html' },
        'muscletech-mass': { name: 'MuscleTech 100% Mass Gainer', safety: 'safe', leadValue: 0, rank: '1 (2025)', article: 'blog/muscletech-mass-gainer-safety.html' },
        'dymatize-iso': { name: 'Dymatize ISO-100', safety: 'safe', leadValue: 0.1, rank: '2 (2025)', article: 'blog/dymatize-iso-100-safety-analysis.html' },
        'optimum-gold': { name: 'Optimum Nutrition', safety: 'safe', leadValue: 0.15, rank: '5 (2025)', article: 'blog/optimum-nutrition-gold-standard-whey-lead-testing-results-2025.html' },
        'naked-vegan': { name: 'Naked Vegan Gainer', safety: 'danger', leadValue: 7.86, rank: '23', article: 'blog/naked-nutrition-vegan-mass-gainer-lead.html' },
        'huel-black': { name: 'Huel Black Edition', safety: 'danger', leadValue: 6.44, rank: '22', article: 'blog/huel-black-edition-lead-content.html' }
    };

    document.addEventListener('DOMContentLoaded', function() {
        const pForm = document.getElementById('protein-form');
        if(pForm) pForm.addEventListener('submit', (e) => { e.preventDefault(); calculateProtein(); });

        const eForm = document.getElementById('exposure-form');
        if(eForm) eForm.addEventListener('submit', (e) => { e.preventDefault(); calculateExposure(); });

        const cBtn = document.getElementById('run-cost-calc');
        if(cBtn) cBtn.addEventListener('click', runCostComparison);
    });

    function checkBrand() {
        const key = document.getElementById('brand-select').value;
        const res = document.getElementById('result');
        if(!key) { res.style.display = 'none'; return; }
        const b = brandData[key];
        res.innerHTML = `
            <div class="safety-card ${b.safety}">
                <h3>${b.name} - Rank #${b.rank}</h3>
                <p>Status: <strong>${b.safety.toUpperCase()}</strong></p>
                <a href="${b.article}">Read Full Analysis ‚Üí</a>
            </div>`;
        res.style.display = 'block';
    }

    function calculateProtein() {
        const weight = parseFloat(document.getElementById('weight').value);
        const unit = document.getElementById('weight-unit').value;
        const goal = document.getElementById('goal').value;
        const weightKg = (unit === 'lbs') ? weight / 2.205 : weight;
        let mult = (goal === 'lose') ? 2.0 : (goal === 'maintain') ? 1.6 : 2.2;
        const target = Math.round(weightKg * mult);
        const res = document.getElementById('protein-results');
        res.innerHTML = `<div style="background:#f0fdf4; padding:20px; border-radius:8px; border:2px solid #2ecc71; text-align:center;">
            <h3>Target: ${target}g Protein/Day</h3>
            <p>Switch to <strong>Equate ($0.60)</strong> to hit this target affordably.</p>
        </div>`;
        res.style.display = 'block';
    }

    function calculateExposure() {
        const key = document.getElementById('exposure-brand').value;
        const serv = parseFloat(document.getElementById('servings-day').value);
        const mon = parseInt(document.getElementById('duration-value').value);
        const b = brandData[key];
        const total = (b.leadValue * serv * (mon * 30)).toFixed(1);
        const res = document.getElementById('exposure-results');
        res.innerHTML = `<div style="padding:20px; border-radius:8px; border:2px solid ${b.safety === 'safe' ? '#2ecc71' : '#e74c3c'}; background:#fff;">
            <h3>Total Lead: ${total} ¬µg</h3>
            <p>Based on ${mon} months of use. <a href="${b.article}">Full Report ‚Üí</a></p>
        </div>`;
        res.style.display = 'block';
    }

    function runCostComparison() {
        const rtd = parseFloat(document.getElementById('current-rtd-price').value);
        const qty = parseInt(document.getElementById('shakes-count').value);
        const save = Math.floor((rtd - 0.60) * qty * 365);
        document.getElementById('annual-savings-display').innerText = '$' + save.toLocaleString();
        document.getElementById('cost-results').style.display = 'block';
    }
    </script>
</body>
</html>